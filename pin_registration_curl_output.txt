==========================================
PIN Registration API Test - cURL Commands
==========================================

=== 1. GUI LOOKUP (ID Validation) ===
Used in: /pin-registration/kenyan/identity

curl -X GET 'https://kratest.pesaflow.com/api/itax/gui-lookup?gui=36447996&tax_payer_type=KE' \
  -H 'x-source-for: whatsapp'

Response:
<html><body><h1>503 Service Unavailable</h1>
No server is available to handle this request.
</body></html>



=== 2. ID LOOKUP (with phone validation) ===
Used in: /pin-registration/kenyan/identity (fallback)

curl -X POST 'https://kratest.pesaflow.com/api/ussd/id-lookup' \
  -H 'Content-Type: application/json' \
  -H 'x-forwarded-for: triple_2_ussd' \
  -d '{"id_number":"36447996","msisdn":"254748104591"}'

Response:
<html><body><h1>503 Service Unavailable</h1>
No server is available to handle this request.
</body></html>



=== 3. INITIATE SESSION ===
Used in: /pin-registration (before registration)

curl -X POST 'https://kratest.pesaflow.com/api/ussd/initiate-session' \
  -H 'Content-Type: application/json' \
  -H 'x-forwarded-for: triple_2_ussd' \
  -d '{"id_number":"36447996","msisdn":"254748104591","type":"citizen"}'

Response:
<html><body><h1>503 Service Unavailable</h1>
No server is available to handle this request.
</body></html>



=== 4. PIN REGISTRATION (Citizen) ===
Used in: /pin-registration/kenyan/declaration

curl -X POST 'https://kratest.pesaflow.com/api/ussd/pin-registration' \
  -H 'Content-Type: application/json' \
  -H 'x-forwarded-for: triple_2_ussd' \
  -d '{"type":"citizen","email":"test@example.com","msisdn":"254748104591","id_number":"36447996"}'

Response:
<html><body><h1>503 Service Unavailable</h1>
No server is available to handle this request.
</body></html>



=== 5. PIN REGISTRATION (Resident/Non-Kenyan) ===
Used in: /pin-registration/non-kenyan/declaration

curl -X POST 'https://kratest.pesaflow.com/api/ussd/pin-registration' \
  -H 'Content-Type: application/json' \
  -H 'x-forwarded-for: triple_2_ussd' \
  -d '{"type":"resident","email":"test@example.com","msisdn":"254748104591","id_number":"A1234567"}'

Response:
<html><body><h1>503 Service Unavailable</h1>
No server is available to handle this request.
</body></html>



==========================================
TEST COMPLETE
==========================================
